# üìã –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—é

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ runner.py**

–¢–µ–ø–µ—Ä—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç–µ:

#### **–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–∏—Å–∞:**
```
============================================================
üöÄ –ó–ê–ü–£–°–ö –ü–õ–ê–ù–ò–†–û–í–©–ò–ö–ê EMAIL –£–í–ï–î–û–ú–õ–ï–ù–ò–ô
============================================================
–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: 2025-01-22 14:30:15
–í–µ—Ä—Å–∏—è Python: 3.8.10
–†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: /opt/www/email_notifications_current
‚è∞ –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 300 —Å–µ–∫—É–Ω–¥ (5.0 –º–∏–Ω—É—Ç)
‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
üìã –ó–∞–¥–∞—á–∞ 'Email Notifications Job' –¥–æ–±–∞–≤–ª–µ–Ω–∞
üîÑ –°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 300 —Å–µ–∫—É–Ω–¥
============================================================
```

#### **–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ Notific.py:**
```
üîÑ ==================================================
üöÄ –ó–ê–ü–£–°–ö NOTIFIC.PY
‚è∞ –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: 2025-01-22 14:35:15
üìÅ –ü—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É: /opt/www/email_notifications_current/Notific.py
üêç Python –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä: /usr/bin/python3
‚è±Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 12.34 —Å–µ–∫—É–Ω–¥
‚úÖ Notific.py –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
üîÑ ==================================================
```

#### **–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö:**
```
üîÑ ==================================================
üöÄ –ó–ê–ü–£–°–ö NOTIFIC.PY
‚è∞ –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: 2025-01-22 14:35:15
‚ùå Notific.py –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º –æ—à–∏–±–∫–∏ 1
üí• –û—à–∏–±–∫–∏ Notific.py: SMTP_PASSWORD –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è!
‚è±Ô∏è  –í—Ä–µ–º—è –¥–æ –æ—à–∏–±–∫–∏: 0.15 —Å–µ–∫—É–Ω–¥
üîÑ ==================================================
```

## üîç –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
tail -f runner.log | grep "–ó–ê–ü–£–°–ö –ü–õ–ê–ù–ò–†–û–í–©–ò–ö–ê"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø—É—Å–∫–∏ Notific.py
tail -f runner.log | grep "–ó–ê–ü–£–°–ö NOTIFIC.PY"
```

### **2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤
grep "–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è" runner.log | tail -10

# –ù–∞–π—Ç–∏ –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ (–±–æ–ª—å—à–µ 60 —Å–µ–∫—É–Ω–¥)
grep "–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è" runner.log | awk -F' ' '$NF > 60'
```

### **3. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫:**
```bash
# –í—Å–µ –æ—à–∏–±–∫–∏
grep -E "‚ùå|üí•|ERROR" runner.log

# –û—à–∏–±–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
grep -E "‚ùå|üí•|ERROR" runner.log | grep "$(date '+%Y-%m-%d %H')"
```

### **4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
grep "–ò–Ω—Ç–µ—Ä–≤–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è" runner.log | tail -1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ –±—ã–ª–æ –ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
grep "–ò–Ω—Ç–µ—Ä–≤–∞–ª –∏–∑–º–µ–Ω–µ–Ω" runner.log
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### **–ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
# –í .env —Ñ–∞–π–ª–µ –¥–æ–±–∞–≤—å—Ç–µ:
EXECUTION_INTERVAL=300  # 5 –º–∏–Ω—É—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
EXECUTION_INTERVAL=600  # 10 –º–∏–Ω—É—Ç
EXECUTION_INTERVAL=1800 # 30 –º–∏–Ω—É—Ç
```

### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- **–ú–∏–Ω–∏–º—É–º:** 60 —Å–µ–∫—É–Ω–¥ (1 –º–∏–Ω—É—Ç–∞)
- **–ú–∞–∫—Å–∏–º—É–º:** 3600 —Å–µ–∫—É–Ω–¥ (1 —á–∞—Å)
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 300 —Å–µ–∫—É–Ω–¥ (5 –º–∏–Ω—É—Ç)

## üìä –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤

### **–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫:**
```
2025-01-22 14:30:15,123 - INFO - ============================================================
2025-01-22 14:30:15,124 - INFO - üöÄ –ó–ê–ü–£–°–ö –ü–õ–ê–ù–ò–†–û–í–©–ò–ö–ê EMAIL –£–í–ï–î–û–ú–õ–ï–ù–ò–ô
2025-01-22 14:30:15,125 - INFO - ============================================================
2025-01-22 14:30:15,126 - INFO - –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: 2025-01-22 14:30:15
2025-01-22 14:30:15,127 - INFO - –í–µ—Ä—Å–∏—è Python: 3.8.10
2025-01-22 14:30:15,128 - INFO - –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: /opt/www/email_notifications_current
2025-01-22 14:30:15,129 - INFO - ‚è∞ –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 300 —Å–µ–∫—É–Ω–¥ (5.0 –º–∏–Ω—É—Ç)
2025-01-22 14:30:15,130 - INFO - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
2025-01-22 14:30:15,131 - INFO - üìã –ó–∞–¥–∞—á–∞ 'Email Notifications Job' –¥–æ–±–∞–≤–ª–µ–Ω–∞
2025-01-22 14:30:15,132 - INFO - üîÑ –°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 300 —Å–µ–∫—É–Ω–¥
2025-01-22 14:30:15,133 - INFO - ============================================================
```

### **–û—à–∏–±–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```
2025-01-22 14:30:15,123 - WARNING - ‚ö†Ô∏è  –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–∏—à–∫–æ–º –º–∞–ª (15 —Å–µ–∫), —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –º–∏–Ω–∏–º—É–º 60 —Å–µ–∫
2025-01-22 14:30:15,124 - INFO - üìù –ò–Ω—Ç–µ—Ä–≤–∞–ª –∏–∑–º–µ–Ω–µ–Ω —Å 15 –Ω–∞ 60 —Å–µ–∫—É–Ω–¥
```

### **–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
```
2025-01-22 14:35:15,123 - INFO - üîÑ ==================================================
2025-01-22 14:35:15,124 - INFO - üöÄ –ó–ê–ü–£–°–ö NOTIFIC.PY
2025-01-22 14:35:15,125 - INFO - ‚è∞ –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: 2025-01-22 14:35:15
2025-01-22 14:35:15,126 - ERROR - ‚ùå Notific.py –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º –æ—à–∏–±–∫–∏ 1
2025-01-22 14:35:15,127 - ERROR - üí• –û—à–∏–±–∫–∏ Notific.py: SMTP_PASSWORD –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è!
2025-01-22 14:35:15,128 - INFO - ‚è±Ô∏è  –í—Ä–µ–º—è –¥–æ –æ—à–∏–±–∫–∏: 0.15 —Å–µ–∫—É–Ω–¥
2025-01-22 14:35:15,129 - INFO - üîÑ ==================================================
```

## üö® –ê–ª–µ—Ä—Ç—ã –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤:**
```bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–æ–∫ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ cron)
#!/bin/bash
ERRORS=$(grep -c "‚ùå\|üí•\|ERROR" /opt/www/email_notifications_current/runner.log)
if [ $ERRORS -gt 0 ]; then
    echo "–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –æ—à–∏–±–∫–∏ –≤ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö: $ERRORS"
    # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
fi
```

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ systemd:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl status email-notific

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ systemd
sudo journalctl -u email-notific -f

# –õ–æ–≥–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
sudo journalctl -u email-notific --since "1 hour ago"
```

---

**–¢–µ–ø–µ—Ä—å –≤—ã –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç–µ –∑–Ω–∞—Ç—å:**
- ‚úÖ –ö–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
- ‚è∞ –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –∫–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫
- üîÑ –ö–∞–∫–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚ùå –ö–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
